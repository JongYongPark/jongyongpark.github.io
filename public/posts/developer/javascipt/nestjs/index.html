<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Nest.js | RyanPark&#39;s DevSecOps</title>
<meta name="keywords" content="Next.js, SpringBoot">
<meta name="description" content="Next.js 와와 SpringBoot 비교
속도비교
NestJS와 Spring Boot는 각각의 장단점이 있지만, 개발 속도 측면에서 비교할 때는 NestJS가 더 빠를 수 있는 몇 가지 이유가 있습니다. 다만, 최종 선택은 프로젝트의 요구 사항과 팀의 경험에 따라 달라질 수 있습니다. 아래에서 두 프레임워크를 비교해보겠습니다.
1. NestJS의 빠른 개발 속도


JavaScript/TypeScript 기반: NestJS는 TypeScript를 기본으로 사용합니다. TypeScript는 자바스크립트를 확장한 언어로, 컴파일 시 타입 검사를 제공하여 코드 작성 중 버그를 미리 잡을 수 있습니다. 또한, JavaScript와 TypeScript는 웹 프론트엔드 개발에서 널리 사용되기 때문에, 프론트엔드와 백엔드 개발자들이 같은 언어를 사용할 수 있어 통합 개발 속도가 빨라질 수 있습니다.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/developer/javascipt/nestjs/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.9de45e225101e4f99701d2b68fc6b8a1ef6027928be6391fa15bf7f56326c909.css" integrity="sha256-neReIlEB5PmXAdK2j8a4oe9gJ5KL5jkfoVv39WMmyQk=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/developer/javascipt/nestjs/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="RyanPark&#39;s DevSecOps (Alt + H)">RyanPark&#39;s DevSecOps</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Nest.js
    </h1>
    <div class="post-meta"><span title='2025-02-21 00:00:00 +0000 UTC'>February 21, 2025</span>&nbsp;·&nbsp;18 min

</div>
  </header> 
  <div class="post-content"><h1 id="nextjs-와와-springboot-비교">Next.js 와와 SpringBoot 비교<a hidden class="anchor" aria-hidden="true" href="#nextjs-와와-springboot-비교">#</a></h1>
<h2 id="속도비교">속도비교<a hidden class="anchor" aria-hidden="true" href="#속도비교">#</a></h2>
<p><strong>NestJS</strong>와 <strong>Spring Boot</strong>는 각각의 장단점이 있지만, <strong>개발 속도</strong> 측면에서 비교할 때는 <strong>NestJS</strong>가 더 빠를 수 있는 몇 가지 이유가 있습니다. 다만, 최종 선택은 프로젝트의 요구 사항과 팀의 경험에 따라 달라질 수 있습니다. 아래에서 두 프레임워크를 비교해보겠습니다.</p>
<h3 id="1-nestjs의-빠른-개발-속도">1. <strong>NestJS의 빠른 개발 속도</strong><a hidden class="anchor" aria-hidden="true" href="#1-nestjs의-빠른-개발-속도">#</a></h3>
<ul>
<li>
<p><strong>JavaScript/TypeScript 기반</strong>: NestJS는 <strong>TypeScript</strong>를 기본으로 사용합니다. TypeScript는 자바스크립트를 확장한 언어로, 컴파일 시 타입 검사를 제공하여 코드 작성 중 버그를 미리 잡을 수 있습니다. 또한, <strong>JavaScript</strong>와 <strong>TypeScript</strong>는 웹 프론트엔드 개발에서 널리 사용되기 때문에, 프론트엔드와 백엔드 개발자들이 <strong>같은 언어</strong>를 사용할 수 있어 통합 개발 속도가 빨라질 수 있습니다.</p>
</li>
<li>
<p><strong>모듈화된 아키텍처</strong>: NestJS는 <strong>모듈화된 아키텍처</strong>를 채택하여, 빠르게 기능을 개발하고 테스트할 수 있습니다. Express와 같은 낮은 수준의 프레임워크 위에 <strong>의존성 주입</strong>, <strong>데코레이터</strong>, <strong>미들웨어</strong> 등의 고급 기능을 추가하여 개발자가 편리하게 작업할 수 있습니다.</p>
</li>
<li>
<p><strong>라이브러리와 도구</strong>: NestJS는 Express 기반으로 동작하기 때문에, Express의 <strong>풍부한 생태계</strong>를 그대로 활용할 수 있습니다. 또한, NestJS는 Angular와 유사한 구조로 구성되어 있어, Angular에 익숙한 개발자에게는 더 빠르게 익숙해질 수 있습니다.</p>
</li>
<li>
<p><strong>빠른 프로토타이핑</strong>: NestJS는 <code>CLI</code> 명령어를 통해 애플리케이션을 빠르게 생성할 수 있습니다. 이를 통해 기본적인 프로젝트 설정과 코드 생성이 매우 직관적이고 빠릅니다.</p>
</li>
</ul>
<h3 id="2-spring-boot의-개발-속도">2. <strong>Spring Boot의 개발 속도</strong><a hidden class="anchor" aria-hidden="true" href="#2-spring-boot의-개발-속도">#</a></h3>
<ul>
<li>
<p><strong>Java 기반</strong>: Spring Boot는 <strong>Java</strong>를 사용합니다. Java는 안정성, 성능 면에서는 뛰어난 언어지만, Java의 <strong>상대적으로 긴 코드 작성</strong>과 <strong>상속 및 인터페이스를 사용하는 복잡한 설계</strong>가 개발 속도를 느리게 만들 수 있습니다. 특히 Java는 명시적인 코드 작성과 설정이 필요하기 때문에 코드가 다소 길어지고, 그만큼 개발 속도가 느려질 수 있습니다.</p>
</li>
<li>
<p><strong>자동 설정 및 의존성 관리</strong>: Spring Boot는 **자동 설정(auto-configuration)**과 <strong>강력한 의존성 주입</strong>을 제공합니다. Spring Boot의 자동 설정 기능 덕분에 많은 설정을 최소화할 수 있어, 처음부터 복잡한 설정을 하지 않아도 되며, 기본 설정만으로 빠르게 시작할 수 있습니다.</p>
</li>
<li>
<p><strong>풍부한 생태계와 커뮤니티</strong>: Spring Boot는 Java의 풍부한 생태계와 강력한 지원을 받습니다. 다양한 라이브러리, 프레임워크, 그리고 <strong>Spring</strong> 자체의 방대한 문서와 커뮤니티 지원 덕분에 문제 해결이 빠르지만, Java 개발자들이 NestJS보다 더 오랜 시간 동안 경험을 쌓을 필요가 있을 수 있습니다.</p>
</li>
<li>
<p><strong>구성의 복잡성</strong>: Spring Boot의 경우, 설정 파일(<code>application.properties</code> 또는 <code>application.yml</code>)이나 클래스를 통해 설정을 많이 해줘야 하는 경우가 많습니다. 이로 인해 더 많은 설정과 복잡한 구성이 필요할 수 있습니다. 하지만 이러한 복잡함이 있더라도 대규모 프로젝트에서는 <strong>확장성</strong>과 <strong>유지보수성</strong>이 뛰어나기 때문에 중장기적으로는 도움이 됩니다.</p>
</li>
</ul>
<h3 id="3-비교-요약">3. <strong>비교 요약</strong><a hidden class="anchor" aria-hidden="true" href="#3-비교-요약">#</a></h3>
<table>
  <thead>
      <tr>
          <th>특성</th>
          <th><strong>NestJS</strong></th>
          <th><strong>Spring Boot</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>언어</strong></td>
          <td>JavaScript/TypeScript</td>
          <td>Java</td>
      </tr>
      <tr>
          <td><strong>빠른 개발</strong></td>
          <td>TypeScript로 빠르게 개발, Express 기반</td>
          <td>자동 설정으로 빠르게 시작, 다소 복잡한 설정</td>
      </tr>
      <tr>
          <td><strong>생태계</strong></td>
          <td>Node.js 기반, 풍부한 NPM 패키지</td>
          <td>Java의 풍부한 라이브러리와 Spring 생태계</td>
      </tr>
      <tr>
          <td><strong>사용 용이성</strong></td>
          <td>빠른 프로토타입 개발, 명확한 구조 제공</td>
          <td>설정 및 구성이 비교적 복잡함</td>
      </tr>
      <tr>
          <td><strong>개발 속도</strong></td>
          <td>빠르고 직관적인 코드 작성</td>
          <td>다소 복잡한 코드와 설정 필요</td>
      </tr>
      <tr>
          <td><strong>대규모 프로젝트</strong></td>
          <td>모듈화된 아키텍처로 확장성 좋음</td>
          <td>확장성, 안정성 뛰어나지만 초기 개발 속도는 느림</td>
      </tr>
  </tbody>
</table>
<h3 id="4-결론">4. <strong>결론</strong><a hidden class="anchor" aria-hidden="true" href="#4-결론">#</a></h3>
<ul>
<li>
<p><strong>NestJS</strong>는 <strong>JavaScript/TypeScript</strong> 기반으로 빠른 개발을 지향하며, 특히 <strong>프론트엔드와 백엔드를 통합 개발하는 경우</strong> 빠른 개발 속도를 제공합니다. 또한, <strong>CLI 지원</strong>과 <strong>모듈화된 아키텍처</strong> 덕분에 빠르게 프로토타입을 만들고, 간단한 API를 빠르게 구축할 수 있습니다.</p>
</li>
<li>
<p><strong>Spring Boot</strong>는 <strong>Java</strong>를 사용하며 안정성과 성능 면에서 뛰어나지만, <strong>개발 속도</strong> 측면에서는 <strong>NestJS보다 상대적으로 느릴 수 있습니다</strong>. 하지만 <strong>대규모 애플리케이션</strong>이나 <strong>복잡한 비즈니스 로직</strong>을 처리해야 하는 프로젝트에서는 <strong>Spring Boot</strong>가 더 적합할 수 있습니다. 특히 <strong>지속 가능한 유지보수</strong>와 <strong>대규모 트래픽 처리</strong>에 강점을 가지고 있습니다.</p>
</li>
</ul>
<p>따라서 <strong>개발 속도가 중요한 프로젝트</strong>에서는 <strong>NestJS</strong>가 더 유리할 수 있으며, <strong>대규모 엔터프라이즈 애플리케이션</strong>을 개발하려면 <strong>Spring Boot</strong>가 더 적합할 수 있습니다.</p>
<hr>
<h1 id="heading"><a hidden class="anchor" aria-hidden="true" href="#heading">#</a></h1>
<p><strong>Next.js</strong>와 <strong>NestJS</strong>는 둘 다 <strong>백엔드</strong> 개발에 사용할 수 있지만, 그들의 <strong>목표와 철학</strong>이 매우 다릅니다. <strong>Next.js</strong>는 주로 <strong>React</strong>를 기반으로 한 <strong>풀스택 프레임워크</strong>로, 프론트엔드와 백엔드를 하나의 프로젝트 내에서 관리할 수 있게 도와줍니다. 반면, <strong>NestJS</strong>는 <strong>Node.js</strong> 환경에서 <strong>서버 사이드 애플리케이션</strong>을 구축하는 데 특화된 프레임워크로, 주로 <strong>백엔드</strong> 개발을 위한 도구입니다.</p>
<h3 id="nextjs-vs-nestjs-백엔드-관점에서-비교"><strong>Next.js vs NestJS: 백엔드 관점에서 비교</strong><a hidden class="anchor" aria-hidden="true" href="#nextjs-vs-nestjs-백엔드-관점에서-비교">#</a></h3>
<table>
  <thead>
      <tr>
          <th><strong>특징</strong></th>
          <th><strong>Next.js</strong></th>
          <th><strong>NestJS</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>목표</strong></td>
          <td><strong>풀스택 프레임워크</strong>: 프론트엔드 및 백엔드를 모두 처리</td>
          <td><strong>백엔드 프레임워크</strong>: 서버 사이드 애플리케이션 전용</td>
      </tr>
      <tr>
          <td><strong>주요 사용 사례</strong></td>
          <td><strong>프론트엔드</strong>와 <strong>백엔드</strong>를 하나의 프로젝트 내에서 처리</td>
          <td>서버 사이드 로직, REST API, GraphQL API 개발</td>
      </tr>
      <tr>
          <td><strong>백엔드 처리 방식</strong></td>
          <td><strong>API Routes</strong>를 사용하여 간단한 서버 사이드 로직 처리</td>
          <td><strong>Express.js</strong> 기반으로 더 구조화된 백엔드 개발</td>
      </tr>
      <tr>
          <td><strong>라우팅</strong></td>
          <td><strong>페이지 기반 라우팅</strong>: <code>pages/api</code> 폴더 내에서 API 정의</td>
          <td><strong>라우팅 모듈</strong>을 통해 복잡한 API와 라우팅 관리</td>
      </tr>
      <tr>
          <td><strong>서버사이드 렌더링 (SSR)</strong></td>
          <td><strong>가능</strong>: <code>getServerSideProps</code>를 사용해 동적 콘텐츠 처리</td>
          <td>기본적으로 <strong>SSR</strong>을 제공하지 않지만, 서버 사이드 API를 자유롭게 설정 가능</td>
      </tr>
      <tr>
          <td><strong>API 개발</strong></td>
          <td><strong>API Routes</strong>(서버리스 방식)로 백엔드 API 처리</td>
          <td><strong>REST API</strong>와 <strong>GraphQL</strong>을 위한 구조화된 서비스 제공</td>
      </tr>
      <tr>
          <td><strong>데이터베이스</strong></td>
          <td>내장된 DB 연결 기능은 없음, 외부 라이브러리로 처리 가능</td>
          <td><strong>TypeORM</strong>, <strong>Mongoose</strong> 등을 사용하여 DB 연결 및 ORM 제공</td>
      </tr>
      <tr>
          <td><strong>미들웨어 지원</strong></td>
          <td>내장 미들웨어 지원이 적음, 커스터마이징이 가능</td>
          <td>다양한 미들웨어와 <strong>Interceptors</strong>를 지원</td>
      </tr>
      <tr>
          <td><strong>인증 및 보안</strong></td>
          <td><strong>JWT</strong>, <strong>OAuth</strong> 등을 외부 라이브러리로 처리</td>
          <td><strong>Passport.js</strong>와 같은 내장 인증 라이브러리 제공</td>
      </tr>
      <tr>
          <td><strong>배포</strong></td>
          <td><strong>서버리스 배포</strong>(Vercel, Netlify 등) 및 전통적인 서버 배포 가능</td>
          <td>전통적인 서버 배포 및 <strong>Docker</strong> 기반 배포 가능</td>
      </tr>
      <tr>
          <td><strong>구조화 및 확장성</strong></td>
          <td>작은 프로젝트에서는 적합, 대규모 프로젝트에서는 관리 어려움</td>
          <td><strong>모듈화</strong>된 아키텍처로 대규모 애플리케이션에 적합</td>
      </tr>
  </tbody>
</table>
<h3 id="nextjs에서의-백엔드-구현"><strong>Next.js에서의 백엔드 구현</strong><a hidden class="anchor" aria-hidden="true" href="#nextjs에서의-백엔드-구현">#</a></h3>
<p>Next.js는 기본적으로 <strong>프론트엔드 중심</strong>의 프레임워크입니다. 백엔드 API를 처리하기 위해서는 <code>pages/api</code> 디렉터리 내에 <strong>API Routes</strong>를 설정할 수 있습니다. 이 방식은 <strong>서버리스</strong>처럼 동작하며, 작은 애플리케이션이나 간단한 백엔드 로직을 구현하는 데 유용합니다. 그러나 복잡한 서버 사이드 로직을 처리하기에는 한계가 있을 수 있습니다.</p>
<h4 id="예시-nextjs-api-route"><strong>예시: Next.js API Route</strong><a hidden class="anchor" aria-hidden="true" href="#예시-nextjs-api-route">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// pages/api/posts.js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">handler</span>(<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">method</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;GET&#39;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">posts</span> <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>      { <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;첫 번째 게시글&#39;</span> },
</span></span><span style="display:flex;"><span>      { <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span>, <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;두 번째 게시글&#39;</span> },
</span></span><span style="display:flex;"><span>    ];
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>(<span style="color:#ae81ff">200</span>).<span style="color:#a6e22e">json</span>(<span style="color:#a6e22e">posts</span>);
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>(<span style="color:#ae81ff">405</span>).<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Method Not Allowed&#39;</span> });
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Next.js에서 <code>pages/api/posts.js</code>는 API를 정의하는 방식으로, 이 API는 <strong>GET</strong> 요청을 처리하여 게시글 목록을 반환합니다.</p>
<h4 id="nextjs의-한계"><strong>Next.js의 한계</strong><a hidden class="anchor" aria-hidden="true" href="#nextjs의-한계">#</a></h4>
<ul>
<li><strong>복잡한 API</strong>나 <strong>대규모 애플리케이션</strong>의 경우, 백엔드 로직을 <code>API Routes</code>로 처리하는 데 한계가 있을 수 있습니다. 특히 <strong>상태 관리</strong>, <strong>복잡한 데이터베이스 처리</strong> 등을 구현하려면 다른 백엔드 프레임워크와 비교해 부족할 수 있습니다.</li>
<li>서버 사이드 로직을 <strong>동적으로</strong> 처리하려면 별도의 미들웨어나 로직을 추가해야 합니다.</li>
</ul>
<hr>
<h3 id="nestjs에서의-백엔드-구현"><strong>NestJS에서의 백엔드 구현</strong><a hidden class="anchor" aria-hidden="true" href="#nestjs에서의-백엔드-구현">#</a></h3>
<p>NestJS는 <strong>백엔드</strong> 개발에 특화된 프레임워크입니다. <strong>Express.js</strong>를 기반으로 하고 있으며, <strong>모듈화된 구조</strong>와 <strong>TypeScript 지원</strong>을 통해 대규모 애플리케이션을 구축하는 데 적합합니다. 또한 <strong>의존성 주입</strong>, <strong>미들웨어</strong>, <strong>Interceptor</strong>와 같은 <strong>고급 기능</strong>을 제공하여 복잡한 애플리케이션의 백엔드를 관리하기 용이합니다.</p>
<h4 id="예시-nestjs-rest-api"><strong>예시: NestJS REST API</strong><a hidden class="anchor" aria-hidden="true" href="#예시-nestjs-rest-api">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#75715e">// posts.controller.ts
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Controller</span>, <span style="color:#a6e22e">Get</span>, <span style="color:#a6e22e">Post</span>, <span style="color:#a6e22e">Body</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@nestjs/common&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Controller</span>(<span style="color:#e6db74">&#39;posts&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">PostsController</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@Get</span>()
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">getPosts</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">string</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;게시글 목록&#39;</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@Post</span>()
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">createPost</span>(<span style="color:#66d9ef">@Body</span>() <span style="color:#a6e22e">postData</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span>: <span style="color:#66d9ef">string</span> })<span style="color:#f92672">:</span> <span style="color:#66d9ef">string</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">`새로운 게시글: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">postData</span>.<span style="color:#a6e22e">title</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>NestJS에서는 <strong>Controller</strong>와 <strong>Service</strong>를 사용하여 RESTful API를 구현할 수 있습니다. <strong>모듈화</strong>된 아키텍처와 함께 <strong>의존성 주입</strong>을 사용하여 더 복잡한 로직을 효과적으로 관리할 수 있습니다.</p>
<h4 id="nestjs의-장점"><strong>NestJS의 장점</strong><a hidden class="anchor" aria-hidden="true" href="#nestjs의-장점">#</a></h4>
<ul>
<li><strong>모듈화</strong>된 아키텍처로 코드의 <strong>유지보수성</strong>이 뛰어나며, 대규모 애플리케이션에 적합합니다.</li>
<li><strong>TypeORM</strong>이나 <strong>Mongoose</strong>를 사용하여 <strong>데이터베이스</strong>와 쉽게 연결할 수 있습니다.</li>
<li><strong>Passport.js</strong>와 같은 내장 인증 라이브러리로 <strong>인증 및 보안</strong> 기능을 쉽게 구현할 수 있습니다.</li>
<li><strong>미들웨어</strong>, <strong>Interceptors</strong>, <strong>Guards</strong> 등을 제공하여 복잡한 애플리케이션 로직을 효과적으로 처리할 수 있습니다.</li>
</ul>
<hr>
<h3 id="nextjs-vs-nestjs-백엔드-기능-비교"><strong>Next.js vs NestJS: 백엔드 기능 비교</strong><a hidden class="anchor" aria-hidden="true" href="#nextjs-vs-nestjs-백엔드-기능-비교">#</a></h3>
<table>
  <thead>
      <tr>
          <th><strong>기능</strong></th>
          <th><strong>Next.js</strong></th>
          <th><strong>NestJS</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>주요 사용 사례</strong></td>
          <td>서버리스 API, 간단한 서버사이드 로직</td>
          <td>REST API, GraphQL API, 고급 서버 사이드 애플리케이션</td>
      </tr>
      <tr>
          <td><strong>API 개발</strong></td>
          <td><strong>API Routes</strong>를 통한 간단한 백엔드 처리</td>
          <td><strong>Controller</strong>와 <strong>Service</strong>로 명확한 구조의 API 구현</td>
      </tr>
      <tr>
          <td><strong>라우팅</strong></td>
          <td>파일 기반 라우팅 (pages/api 디렉터리 사용)</td>
          <td>명시적인 <strong>Controller</strong>와 <strong>Route</strong> 설정</td>
      </tr>
      <tr>
          <td><strong>데이터베이스</strong></td>
          <td>외부 라이브러리를 통해 처리 (예: Prisma, TypeORM 등)</td>
          <td><strong>TypeORM</strong>, <strong>Mongoose</strong> 등을 통한 통합 관리</td>
      </tr>
      <tr>
          <td><strong>미들웨어</strong></td>
          <td>미들웨어 지원이 제한적</td>
          <td><strong>미들웨어</strong>, <strong>Guards</strong>, <strong>Interceptors</strong> 등 고급 기능 지원</td>
      </tr>
      <tr>
          <td><strong>인증</strong></td>
          <td>외부 라이브러리로 처리 (예: JWT, OAuth)</td>
          <td><strong>Passport.js</strong>를 통한 통합 인증 시스템 제공</td>
      </tr>
      <tr>
          <td><strong>확장성</strong></td>
          <td>작은 프로젝트 및 간단한 API에 적합</td>
          <td>대규모 애플리케이션에 적합</td>
      </tr>
      <tr>
          <td><strong>개발 속도</strong></td>
          <td>빠르고 간단하게 시작 가능, 작은 프로젝트에 적합</td>
          <td>구조화된 개발 환경, 큰 프로젝트에 적합</td>
      </tr>
  </tbody>
</table>
<h3 id="결론"><strong>결론</strong><a hidden class="anchor" aria-hidden="true" href="#결론">#</a></h3>
<ul>
<li><strong>Next.js</strong>는 <strong>풀스택 프레임워크</strong>로서 <strong>프론트엔드</strong>와 <strong>간단한 백엔드 API</strong>를 하나의 프로젝트 내에서 처리할 수 있습니다. 그러나 <strong>복잡한 백엔드 로직</strong>이나 <strong>대규모 API</strong>를 다루기에는 한계가 있을 수 있습니다.</li>
<li><strong>NestJS</strong>는 <strong>백엔드 전용</strong> 프레임워크로, <strong>대규모 애플리케이션</strong>에서 더 강력하고 구조화된 백엔드 솔루션을 제공합니다. <strong>API 개발</strong>, <strong>데이터베이스 연동</strong>, <strong>인증 처리</strong> 등 다양한 백엔드 기능을 효과적으로 관리할 수 있습니다.</li>
</ul>
<p><strong>Next.js</strong>는 작은 규모의 애플리케이션이나 <strong>서버리스</strong> 환경에 적합하며, <strong>NestJS</strong>는 복잡한 백엔드 시스템이나 대규모 서버 사이드 애플리케이션에 더 적합합니다.</p>
<hr>
<h1 id="heading-1"><a hidden class="anchor" aria-hidden="true" href="#heading-1">#</a></h1>
<p><strong>Next.js를 프론트엔드로, NestJS를 백엔드로 사용하는 방법</strong>은 매우 효율적이고 강력한 스택으로, <strong>풀스택 애플리케이션</strong>을 구축하는 데 적합합니다. 각 프레임워크가 제공하는 장점들을 결합하여 <strong>프론트엔드와 백엔드</strong>를 최적화된 방식으로 개발할 수 있습니다.</p>
<h3 id="장점"><strong>장점</strong><a hidden class="anchor" aria-hidden="true" href="#장점">#</a></h3>
<ol>
<li><strong>Next.js</strong>는 React 기반의 프론트엔드 개발에 특화되어 있으며, 서버사이드 렌더링(SSR)과 정적 사이트 생성(SSG)을 통해 뛰어난 성능과 SEO 최적화를 제공합니다.</li>
<li><strong>NestJS</strong>는 <strong>Node.js</strong> 기반의 <strong>백엔드 프레임워크</strong>로, <strong>Express.js</strong> 위에서 동작하며 <strong>모듈화</strong>된 구조와 <strong>TypeScript</strong>를 기본적으로 지원합니다. 복잡한 백엔드 로직과 API를 구축하기에 매우 유리합니다.</li>
<li>두 프레임워크 모두 <strong>TypeScript</strong>를 기본 지원하므로, <strong>통합된 개발 환경</strong>에서 일관성 있는 코드를 작성할 수 있습니다.</li>
<li><strong>분리된 아키텍처</strong>: 프론트엔드와 백엔드를 분리하여 개발하므로, <strong>유지보수</strong>와 <strong>확장성</strong>이 뛰어납니다.</li>
</ol>
<h3 id="구성"><strong>구성</strong><a hidden class="anchor" aria-hidden="true" href="#구성">#</a></h3>
<ul>
<li><strong>프론트엔드 (Next.js)</strong>: React 컴포넌트를 사용하여 동적인 웹 애플리케이션을 개발하며, <code>getServerSideProps</code>와 <code>getStaticProps</code>를 사용하여 <strong>서버사이드 렌더링 (SSR)</strong> 또는 **정적 사이트 생성 (SSG)**을 구현합니다.</li>
<li><strong>백엔드 (NestJS)</strong>: RESTful API 또는 GraphQL API를 제공하여 <strong>클라이언트와의 통신</strong>을 처리합니다. <code>NestJS</code>는 <strong>TypeORM</strong>, <strong>Mongoose</strong> 등과 결합하여 데이터베이스와의 상호작용을 관리할 수 있습니다.</li>
</ul>
<h3 id="구현-방법"><strong>구현 방법</strong><a hidden class="anchor" aria-hidden="true" href="#구현-방법">#</a></h3>
<h4 id="1-nestjs---백엔드-설정"><strong>1. NestJS - 백엔드 설정</strong><a hidden class="anchor" aria-hidden="true" href="#1-nestjs---백엔드-설정">#</a></h4>
<p>NestJS를 설정하여 API 서버를 구축합니다. 기본적인 <strong>게시글 관리 API</strong>를 예시로 사용하겠습니다.</p>
<p><strong>NestJS 설치 및 기본 설정</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># NestJS 프로젝트 생성</span>
</span></span><span style="display:flex;"><span>npm i -g @nestjs/cli
</span></span><span style="display:flex;"><span>nest new backend
</span></span></code></pre></div><h4 id="2-nestjs-게시글-api-구현"><strong>2. NestJS: 게시글 API 구현</strong><a hidden class="anchor" aria-hidden="true" href="#2-nestjs-게시글-api-구현">#</a></h4>
<p><code>PostsController</code>와 <code>PostsService</code>를 만들어 <strong>게시글</strong>에 대한 API를 작성합니다.</p>
<p><strong><code>src/posts/posts.controller.ts</code></strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Controller</span>, <span style="color:#a6e22e">Get</span>, <span style="color:#a6e22e">Post</span>, <span style="color:#a6e22e">Body</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@nestjs/common&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">PostsService</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;./posts.service&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Controller</span>(<span style="color:#e6db74">&#39;posts&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">PostsController</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">constructor</span>(<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">readonly</span> <span style="color:#a6e22e">postsService</span>: <span style="color:#66d9ef">PostsService</span>) {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@Get</span>()
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">getPosts() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">postsService</span>.<span style="color:#a6e22e">getAllPosts</span>();
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@Post</span>()
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">createPost</span>(<span style="color:#66d9ef">@Body</span>() <span style="color:#a6e22e">postData</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span>: <span style="color:#66d9ef">string</span> }) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">postsService</span>.<span style="color:#a6e22e">createPost</span>(<span style="color:#a6e22e">postData</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong><code>src/posts/posts.service.ts</code></strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Injectable</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@nestjs/common&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Injectable</span>()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">PostsService</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">posts</span> <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">getAllPosts() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">posts</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">createPost</span>(<span style="color:#a6e22e">postData</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">title</span>: <span style="color:#66d9ef">string</span> }) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">newPost</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">id</span>: <span style="color:#66d9ef">Date.now</span>(), <span style="color:#a6e22e">title</span>: <span style="color:#66d9ef">postData.title</span> };
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">posts</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">newPost</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">newPost</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>위 코드는 기본적인 <strong>GET</strong>과 <strong>POST</strong> API를 제공합니다. <code>GET</code>은 게시글 목록을 반환하고, <code>POST</code>는 새로운 게시글을 생성합니다.</p>
<h4 id="3-nextjs---프론트엔드-설정"><strong>3. Next.js - 프론트엔드 설정</strong><a hidden class="anchor" aria-hidden="true" href="#3-nextjs---프론트엔드-설정">#</a></h4>
<p>Next.js를 사용하여 프론트엔드 애플리케이션을 설정합니다. NestJS API에서 데이터를 받아와 화면에 렌더링하는 예제를 보겠습니다.</p>
<p><strong>Next.js 설치 및 기본 설정</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Next.js 프로젝트 생성</span>
</span></span><span style="display:flex;"><span>npx create-next-app frontend
</span></span><span style="display:flex;"><span>cd frontend
</span></span><span style="display:flex;"><span>npm install
</span></span></code></pre></div><h4 id="4-nextjs-게시글-목록-표시"><strong>4. Next.js: 게시글 목록 표시</strong><a hidden class="anchor" aria-hidden="true" href="#4-nextjs-게시글-목록-표시">#</a></h4>
<p>Next.js에서 <code>getServerSideProps</code>를 사용하여 서버사이드에서 <strong>NestJS API</strong>를 호출하고 데이터를 가져옵니다.</p>
<p><strong><code>pages/index.js</code></strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">useEffect</span>, <span style="color:#a6e22e">useState</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;react&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Home</span>({ <span style="color:#a6e22e">posts</span> }) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">newPost</span>, <span style="color:#a6e22e">setNewPost</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(<span style="color:#e6db74">&#39;&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">allPosts</span>, <span style="color:#a6e22e">setAllPosts</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(<span style="color:#a6e22e">posts</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 새로운 게시글을 서버에 제출하는 함수
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">submitPost</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#39;http://localhost:3001/posts&#39;</span>, {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;POST&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;Content-Type&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;application/json&#39;</span>,
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>({ <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">newPost</span> }),
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">newPostData</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">json</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">setAllPosts</span>([...<span style="color:#a6e22e">allPosts</span>, <span style="color:#a6e22e">newPostData</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">setNewPost</span>(<span style="color:#e6db74">&#39;&#39;</span>);
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">h1</span><span style="color:#f92672">&gt;</span><span style="color:#a6e22e">게시판</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/h1&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">input</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">newPost</span>}
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">onChange</span><span style="color:#f92672">=</span>{(<span style="color:#a6e22e">e</span>) =&gt; <span style="color:#a6e22e">setNewPost</span>(<span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">value</span>)}
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;새 게시글 제목&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">submitPost</span>}<span style="color:#f92672">&gt;</span><span style="color:#a6e22e">게시글</span> <span style="color:#a6e22e">추가</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/button&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">ul</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        {<span style="color:#a6e22e">allPosts</span>.<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">post</span>) =&gt; (
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">li</span> <span style="color:#a6e22e">key</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">post</span>.<span style="color:#a6e22e">id</span>}<span style="color:#f92672">&gt;</span>{<span style="color:#a6e22e">post</span>.<span style="color:#a6e22e">title</span>}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/li&gt;</span>
</span></span><span style="display:flex;"><span>        ))}
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/ul&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/div&gt;</span>
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 서버사이드에서 데이터를 가져오는 함수
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getServerSideProps</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">res</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#39;http://localhost:3001/posts&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">posts</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> { <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">posts</span> } };
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>위 코드는 <code>getServerSideProps</code>를 사용하여 <strong>서버사이드 렌더링</strong>을 처리하고, 게시글을 <strong>POST</strong> 요청을 통해 서버에 추가하는 기능을 구현합니다. <code>fetch</code>를 사용하여 NestJS API로 데이터를 요청하고 화면에 출력합니다.</p>
<h3 id="5-cors-설정-백엔드와-프론트엔드-통신"><strong>5. CORS 설정 (백엔드와 프론트엔드 통신)</strong><a hidden class="anchor" aria-hidden="true" href="#5-cors-설정-백엔드와-프론트엔드-통신">#</a></h3>
<p>Next.js와 NestJS가 다른 포트에서 실행되기 때문에, CORS (Cross-Origin Resource Sharing)를 설정해야 합니다.</p>
<p><strong>NestJS에서 CORS 설정</strong></p>
<p><code>main.ts</code>에서 CORS를 활성화합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">NestFactory</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@nestjs/core&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">AppModule</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;./app.module&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">bootstrap() {</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">NestFactory</span>.<span style="color:#a6e22e">create</span>(<span style="color:#a6e22e">AppModule</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">enableCors</span>(); <span style="color:#75715e">// CORS 활성화
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">listen</span>(<span style="color:#ae81ff">3001</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">bootstrap</span>();
</span></span></code></pre></div><p>이렇게 하면, **Next.js (3000번 포트)**와 <strong>NestJS (3001번 포트)</strong> 간의 요청이 정상적으로 이루어질 수 있습니다.</p>
<h3 id="6-실행"><strong>6. 실행</strong><a hidden class="anchor" aria-hidden="true" href="#6-실행">#</a></h3>
<ol>
<li><strong>NestJS</strong> 백엔드 서버 실행:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd backend
</span></span><span style="display:flex;"><span>npm run start
</span></span></code></pre></div></li>
<li><strong>Next.js</strong> 프론트엔드 서버 실행:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd frontend
</span></span><span style="display:flex;"><span>npm run dev
</span></span></code></pre></div></li>
</ol>
<p>이제 <strong>Next.js</strong>는 <strong>NestJS API</strong>를 호출하여 게시글 목록을 가져오고, 새로운 게시글을 추가할 수 있습니다.</p>
<hr>
<h3 id="결론-1"><strong>결론</strong><a hidden class="anchor" aria-hidden="true" href="#결론-1">#</a></h3>
<p><strong>Next.js와 NestJS</strong>를 함께 사용하는 방식은 <strong>프론트엔드와 백엔드의 분리</strong>를 통해 확장성과 유지보수성을 높이는 방법입니다. Next.js는 <strong>프론트엔드</strong>에 집중하고, NestJS는 <strong>백엔드</strong> API를 처리하는 역할을 하여 서로의 강점을 극대화할 수 있습니다. 또한, 두 프레임워크 모두 <strong>TypeScript</strong>를 지원하여 <strong>일관된 코드베이스</strong>를 유지할 수 있습니다.</p>
<p>이 구조는 특히 <strong>풀스택 애플리케이션</strong>을 개발하는 데 매우 유리하며, <strong>API</strong>와 <strong>서버사이드 렌더링 (SSR)</strong> 기능을 모두 활용할 수 있는 강력한 옵션입니다.</p>
<hr>
<h1 id="heading-2"><a hidden class="anchor" aria-hidden="true" href="#heading-2">#</a></h1>
<p><strong>Next.js (프론트엔드)와 NestJS (백엔드)</strong> 구조를 Firebase나 Vercel에 배포하는 방법에 대해 자세히 설명하겠습니다. 두 플랫폼 모두 <strong>서버리스</strong> 환경을 지원하지만, 약간의 차이점이 있습니다. Firebase는 주로 <strong>Firebase Functions</strong>와 함께 서버리스 애플리케이션을 배포하고, Vercel은 <strong>Next.js</strong>의 기본 배포 플랫폼이기 때문에 프론트엔드를 쉽게 배포할 수 있습니다. 백엔드인 <strong>NestJS</strong>는 Firebase Functions나 <strong>Vercel</strong>의 API Routes로 배포할 수 있습니다.</p>
<h3 id="1-firebase에-배포하기"><strong>1. Firebase에 배포하기</strong><a hidden class="anchor" aria-hidden="true" href="#1-firebase에-배포하기">#</a></h3>
<p>Firebase는 <strong>Firebase Functions</strong>와 <strong>Firebase Hosting</strong>을 사용하여 애플리케이션을 배포할 수 있습니다. Firebase Functions는 <strong>서버리스</strong> 방식으로 백엔드를 제공하며, Firebase Hosting은 <strong>정적 사이트</strong>와 API 서버를 배포하는 데 사용됩니다.</p>
<h4 id="1-firebase-functions와-hosting-설정"><strong>(1) Firebase Functions와 Hosting 설정</strong><a hidden class="anchor" aria-hidden="true" href="#1-firebase-functions와-hosting-설정">#</a></h4>
<p>Firebase에 배포하려면 Firebase 프로젝트를 설정하고, Firebase Functions와 Firebase Hosting을 설정해야 합니다.</p>
<p><strong>Firebase 프로젝트 설정</strong></p>
<ol>
<li>
<p>Firebase CLI 설치</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install -g firebase-tools
</span></span></code></pre></div></li>
<li>
<p>Firebase 로그인</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>firebase login
</span></span></code></pre></div></li>
<li>
<p>Firebase 프로젝트 초기화</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>firebase init
</span></span></code></pre></div><ul>
<li><code>Functions</code>와 <code>Hosting</code>을 선택하고, 프로젝트 설정을 진행합니다.</li>
</ul>
</li>
</ol>
<h4 id="2-nestjs를-firebase-functions로-배포"><strong>(2) NestJS를 Firebase Functions로 배포</strong><a hidden class="anchor" aria-hidden="true" href="#2-nestjs를-firebase-functions로-배포">#</a></h4>
<p>NestJS를 Firebase Functions로 배포하려면 <code>@nestjs/platform-express</code> 패키지와 <code>firebase-functions</code> 패키지를 사용해 서버를 래핑해야 합니다.</p>
<ol>
<li>
<p><strong><code>firebase-functions</code> 및 <code>firebase-admin</code> 패키지 설치</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install firebase-functions firebase-admin
</span></span></code></pre></div></li>
<li>
<p><strong>NestJS와 Firebase Functions 연동</strong></p>
<p>Firebase Functions와 NestJS를 연동하려면, Firebase Functions의 요청을 처리하도록 NestJS 서버를 래핑해야 합니다. 이를 위해 <code>src/main.ts</code> 파일을 수정합니다.</p>
<p><strong><code>src/main.ts</code></strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">NestFactory</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@nestjs/core&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">AppModule</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;./app.module&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">as</span> <span style="color:#a6e22e">admin</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;firebase-admin&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">as</span> <span style="color:#a6e22e">functions</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;firebase-functions&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">admin</span>.<span style="color:#a6e22e">initializeApp</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">bootstrap() {</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">NestFactory</span>.<span style="color:#a6e22e">create</span>(<span style="color:#a6e22e">AppModule</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">init</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">getHttpAdapter</span>().<span style="color:#a6e22e">getInstance</span>();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Firebase Functions로 NestJS 앱을 래핑
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">api</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">functions</span>.<span style="color:#a6e22e">https</span>.<span style="color:#a6e22e">onRequest</span>(<span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">nestApp</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">bootstrap</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">nestApp</span>(<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>);
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p>위 코드는 Firebase Functions를 사용하여 NestJS 앱을 서버리스 환경에서 실행하도록 설정합니다.</p>
</li>
<li>
<p><strong>배포 준비</strong></p>
<p>Firebase에 배포할 준비가 완료되었으면, Firebase Hosting을 설정하여 <strong>Next.js 앱</strong>을 배포합니다.</p>
<p><strong><code>firebase.json</code></strong></p>
<p>Firebase 프로젝트에서의 <strong>호스팅</strong> 설정을 추가합니다. <code>firebase.json</code> 파일에서 다음과 같이 설정할 수 있습니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;hosting&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;public&#34;</span>: <span style="color:#e6db74">&#34;out&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;rewrites&#34;</span>: [
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;source&#34;</span>: <span style="color:#e6db74">&#34;/**&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;function&#34;</span>: <span style="color:#e6db74">&#34;api&#34;</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;functions&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;source&#34;</span>: <span style="color:#e6db74">&#34;functions&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>Firebase에 배포</strong>
Firebase 프로젝트에서 <strong>Next.js</strong>와 <strong>NestJS</strong>를 배포합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>firebase deploy
</span></span></code></pre></div></li>
</ol>
<p>이제 <strong>Firebase Functions</strong>에서 <strong>NestJS 백엔드 API</strong>가 동작하고, <strong>Firebase Hosting</strong>에서 <strong>Next.js</strong> 애플리케이션이 배포됩니다.</p>
<hr>
<h3 id="2-vercel에-배포하기"><strong>2. Vercel에 배포하기</strong><a hidden class="anchor" aria-hidden="true" href="#2-vercel에-배포하기">#</a></h3>
<p>Vercel은 <strong>Next.js</strong>의 공식 배포 플랫폼으로, <strong>Next.js</strong> 애플리케이션을 매우 간단하게 배포할 수 있습니다. 또한 <strong>API Routes</strong>를 사용하여 백엔드 기능도 처리할 수 있습니다. NestJS 백엔드는 <strong>Vercel의 API Routes</strong>로 배포할 수 있습니다.</p>
<h4 id="1-nextjs-배포"><strong>(1) Next.js 배포</strong><a hidden class="anchor" aria-hidden="true" href="#1-nextjs-배포">#</a></h4>
<ol>
<li>
<p><strong>Vercel에 프로젝트 연결</strong></p>
<p>먼저, <strong>Next.js</strong> 프로젝트를 Vercel에 배포하려면, <strong>GitHub</strong>에 프로젝트를 푸시하고 Vercel에 연결해야 합니다.</p>
</li>
<li>
<p><strong>Vercel CLI 설치</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install -g vercel
</span></span></code></pre></div></li>
<li>
<p><strong>Vercel에 배포</strong>
Vercel에 배포하려면, 아래 명령어를 사용합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vercel
</span></span></code></pre></div><p>Vercel은 자동으로 <strong>Next.js 프로젝트</strong>를 배포하고, <strong>서버사이드 렌더링 (SSR)</strong> 및 <strong>API Routes</strong>를 지원합니다.</p>
</li>
</ol>
<h4 id="2-nestjs를-vercel-api-routes로-배포"><strong>(2) NestJS를 Vercel API Routes로 배포</strong><a hidden class="anchor" aria-hidden="true" href="#2-nestjs를-vercel-api-routes로-배포">#</a></h4>
<p>Vercel은 <strong>API Routes</strong> 기능을 제공하여 서버사이드 로직을 처리할 수 있습니다. NestJS 백엔드를 <strong>Vercel API Routes</strong>로 배포하려면, <code>express</code>와 <code>serverless-http</code> 패키지를 사용해 Express 기반의 NestJS 애플리케이션을 래핑해야 합니다.</p>
<ol>
<li>
<p><strong>Vercel과 NestJS 연동</strong>
Vercel API Routes에 맞게 NestJS를 설정하려면, <code>serverless-http</code>와 <code>express</code>를 설치합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install express serverless-http
</span></span></code></pre></div></li>
<li>
<p><strong>NestJS 서버와 Vercel API Routes 연동</strong></p>
<p><strong><code>src/main.ts</code></strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">NestFactory</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@nestjs/core&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">AppModule</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;./app.module&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">as</span> <span style="color:#a6e22e">express</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;express&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">as</span> <span style="color:#a6e22e">serverless</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;serverless-http&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">express</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">nestApp</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">NestFactory</span>.<span style="color:#a6e22e">create</span>(<span style="color:#a6e22e">AppModule</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// NestJS 앱을 Express로 래핑
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>(<span style="color:#e6db74">&#39;/api&#39;</span>, <span style="color:#a6e22e">nestApp</span>.<span style="color:#a6e22e">getHttpAdapter</span>().<span style="color:#a6e22e">getInstance</span>());
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">handler</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">serverless</span>(<span style="color:#a6e22e">app</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">api</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">handler</span>;
</span></span></code></pre></div></li>
<li>
<p><strong>Vercel API Route 설정</strong>
Vercel에서는 API가 <strong><code>api/</code></strong> 폴더 내에 위치해야 합니다. 이를 위해, <code>api/</code> 폴더를 생성하고 <strong>NestJS 서버를 래핑한 파일</strong>을 배치합니다.</p>
<p><strong><code>api/index.ts</code></strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">api</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;../src/main&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">api</span>;
</span></span></code></pre></div></li>
<li>
<p><strong>배포 준비</strong></p>
<p>Vercel에 <strong>Next.js</strong>와 <strong>NestJS API</strong>를 함께 배포합니다. Vercel은 <strong>GitHub</strong> 리포지토리와 자동으로 연동되어 배포됩니다.</p>
</li>
<li>
<p><strong>Vercel 배포</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vercel --prod
</span></span></code></pre></div></li>
</ol>
<p>이제 <strong>Next.js</strong> 애플리케이션과 <strong>NestJS API</strong>가 Vercel에 배포됩니다.</p>
<hr>
<h3 id="3-firebase와-vercel의-비교"><strong>3. Firebase와 Vercel의 비교</strong><a hidden class="anchor" aria-hidden="true" href="#3-firebase와-vercel의-비교">#</a></h3>
<ul>
<li>
<p><strong>Firebase</strong>는 <strong>서버리스</strong> 환경에서 <strong>Firebase Functions</strong>와 <strong>Firebase Hosting</strong>을 제공하여 백엔드 API와 프론트엔드를 통합하여 배포할 수 있습니다. 특히 <strong>실시간 데이터 처리</strong>나 <strong>Firebase 서비스</strong>(예: Firebase Auth, Firestore 등)를 잘 활용할 수 있습니다.</p>
</li>
<li>
<p><strong>Vercel</strong>은 <strong>Next.js</strong>에 최적화된 배포 플랫폼으로, <strong>SSR</strong> 및 <strong>정적 사이트</strong> 배포를 매우 간단하게 처리할 수 있습니다. 백엔드 API도 <strong>API Routes</strong>를 통해 쉽게 처리할 수 있습니다.</p>
</li>
</ul>
<p>둘 다 <strong>서버리스</strong> 환경을 제공하지만, <strong>Vercel</strong>은 <strong>Next.js</strong> 프로젝트와의 <strong>통합</strong>에 더 유리하고, <strong>Firebase</strong>는 <strong>Google Cloud</strong> 기반의 다양한 서비스(인증, 데이터베이스 등)를 필요로 하는 프로젝트에 유리합니다.</p>
<hr>
<h3 id="결론-2"><strong>결론</strong><a hidden class="anchor" aria-hidden="true" href="#결론-2">#</a></h3>
<ul>
<li><strong>Next.js</strong>는 <strong>Vercel</strong>에 배포하는 것이 가장 자연스럽습니다.</li>
<li><strong>NestJS</strong>는 <strong>Firebase Functions</strong>나 <strong>Vercel API Routes</strong>를 사용하여 배포할 수 있습니다.</li>
</ul>
<p>이렇게 <strong>Next.js와 NestJS</strong>를 <strong>Firebase</strong>나 <strong>Vercel</strong>에 배포하여, <strong>프론트엔드와 백엔드</strong>를 모두 서버리스 환경에서 관리할 수 있습니다.</p>
<hr>
<h1 id="nestjs-애플리케이션을-firebase에-배포하는-방법">NestJS 애플리케이션을 Firebase에 배포하는 방법<a hidden class="anchor" aria-hidden="true" href="#nestjs-애플리케이션을-firebase에-배포하는-방법">#</a></h1>
<p><strong>NestJS 애플리케이션을 Firebase에 배포하는 방법</strong>을 자세히 설명드리겠습니다. Firebase는 Node.js 환경을 기본으로 지원하며, Firebase Functions을 사용하면 NestJS 애플리케이션을 서버리스 환경에 배포할 수 있습니다. 이 과정은 <strong>NestJS 애플리케이션을 Firebase Functions에 배포</strong>하는 방식입니다.</p>
<p>여기서는 NestJS 애플리케이션을 Firebase Functions에 배포하는 방법을 단계별로 설명하겠습니다.</p>
<h3 id="1-nestjs-애플리케이션-준비">1. NestJS 애플리케이션 준비<a hidden class="anchor" aria-hidden="true" href="#1-nestjs-애플리케이션-준비">#</a></h3>
<p>먼저, NestJS 애플리케이션을 생성합니다.</p>
<h4 id="11-nestjs-애플리케이션-생성">1.1 NestJS 애플리케이션 생성<a hidden class="anchor" aria-hidden="true" href="#11-nestjs-애플리케이션-생성">#</a></h4>
<p>NestJS 애플리케이션을 생성하려면 NestJS CLI를 설치하고 프로젝트를 생성해야 합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm i -g @nestjs/cli
</span></span><span style="display:flex;"><span>nest new nest-firebase-app
</span></span></code></pre></div><p>위 명령어를 실행하여 새로운 NestJS 프로젝트를 생성합니다.</p>
<h4 id="12-firebase-functions-설치">1.2 Firebase Functions 설치<a hidden class="anchor" aria-hidden="true" href="#12-firebase-functions-설치">#</a></h4>
<p>Firebase Functions에서 NestJS를 사용하려면 Firebase Functions SDK와 NestJS를 연동해야 합니다. 먼저 Firebase CLI를 설치하고 Firebase 프로젝트를 초기화해야 합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install -g firebase-tools
</span></span></code></pre></div><h4 id="13-firebase-프로젝트-초기화">1.3 Firebase 프로젝트 초기화<a hidden class="anchor" aria-hidden="true" href="#13-firebase-프로젝트-초기화">#</a></h4>
<p>NestJS 프로젝트가 생성된 후, Firebase 프로젝트를 초기화합니다. Firebase CLI를 사용하여 Firebase 프로젝트와 연동합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>firebase login
</span></span><span style="display:flex;"><span>firebase init
</span></span></code></pre></div><p><code>firebase init</code>을 실행하면, 여러 가지 옵션을 선택할 수 있습니다. 여기서는 <strong>Functions</strong>만 선택하고, <strong>Firestore</strong>나 <strong>Realtime Database</strong>는 사용하지 않겠습니다.</p>
<ul>
<li>Functions: Firebase Functions SDK 설치</li>
<li>Firebase 프로젝트를 선택하여 연결</li>
</ul>
<h3 id="2-firebase-functions-설정">2. Firebase Functions 설정<a hidden class="anchor" aria-hidden="true" href="#2-firebase-functions-설정">#</a></h3>
<h4 id="21-firebase-functions-sdk-설치">2.1 Firebase Functions SDK 설치<a hidden class="anchor" aria-hidden="true" href="#21-firebase-functions-sdk-설치">#</a></h4>
<p>Firebase Functions SDK와 NestJS 서버를 Firebase Functions에 배포하기 위해 필요한 패키지를 설치합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd functions
</span></span><span style="display:flex;"><span>npm install firebase-functions firebase-admin @nestjs/platform-express express
</span></span></code></pre></div><ul>
<li><code>firebase-functions</code>: Firebase Functions SDK</li>
<li><code>firebase-admin</code>: Firebase Admin SDK</li>
<li><code>@nestjs/platform-express</code>: Express를 NestJS와 함께 사용할 수 있도록 해주는 모듈</li>
<li><code>express</code>: HTTP 요청을 처리할 수 있는 Express 모듈</li>
</ul>
<h4 id="22-firebasejson-수정">2.2 <code>firebase.json</code> 수정<a hidden class="anchor" aria-hidden="true" href="#22-firebasejson-수정">#</a></h4>
<p>Firebase의 리버스 프록시 설정을 위해 <code>firebase.json</code> 파일을 수정합니다. Firebase Functions에서 NestJS 앱을 실행할 수 있도록 설정합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;functions&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;source&#34;</span>: <span style="color:#e6db74">&#34;functions&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;hosting&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;public&#34;</span>: <span style="color:#e6db74">&#34;public&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;rewrites&#34;</span>: [
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;source&#34;</span>: <span style="color:#e6db74">&#34;/**&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;function&#34;</span>: <span style="color:#e6db74">&#34;app&#34;</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>이 설정은 Firebase Hosting에서 오는 모든 요청을 Firebase Functions에 전달하도록 합니다.</p>
<h3 id="3-nestjs-애플리케이션을-firebase-functions로-통합">3. NestJS 애플리케이션을 Firebase Functions로 통합<a hidden class="anchor" aria-hidden="true" href="#3-nestjs-애플리케이션을-firebase-functions로-통합">#</a></h3>
<h4 id="31-nestjs-애플리케이션-수정">3.1 NestJS 애플리케이션 수정<a hidden class="anchor" aria-hidden="true" href="#31-nestjs-애플리케이션-수정">#</a></h4>
<p><code>functions/src/index.ts</code> 파일을 수정하여 NestJS 애플리케이션을 Firebase Functions와 연결합니다. 이 파일에서 Express와 NestJS를 함께 사용하여 HTTP 요청을 처리하도록 설정합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#75715e">// functions/src/index.ts
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">as</span> <span style="color:#a6e22e">functions</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;firebase-functions&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">as</span> <span style="color:#a6e22e">express</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;express&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">NestFactory</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@nestjs/core&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">AppModule</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;../src/app.module&#39;</span>;  <span style="color:#75715e">// AppModule 가져오기
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">ExpressAdapter</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@nestjs/platform-express&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">server</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">express</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// NestJS 애플리케이션을 Firebase Functions와 연결
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">bootstrap() {</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">NestFactory</span>.<span style="color:#a6e22e">create</span>(<span style="color:#a6e22e">AppModule</span>, <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">ExpressAdapter</span>(<span style="color:#a6e22e">server</span>));
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">setGlobalPrefix</span>(<span style="color:#e6db74">&#39;api&#39;</span>);  <span style="color:#75715e">// API 경로 접두어 설정
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">listen</span>(<span style="color:#ae81ff">3000</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Firebase Functions에서 HTTP 요청을 처리
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">bootstrap</span>().<span style="color:#a6e22e">then</span>(() <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">exports</span>.<span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">functions</span>.<span style="color:#a6e22e">https</span>.<span style="color:#a6e22e">onRequest</span>(<span style="color:#a6e22e">server</span>);  <span style="color:#75715e">// Firebase Functions에 연결
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>});
</span></span></code></pre></div><ul>
<li><code>NestFactory.create()</code>를 사용하여 NestJS 애플리케이션을 초기화합니다.</li>
<li><code>ExpressAdapter</code>를 사용하여 NestJS를 Express와 함께 실행할 수 있도록 합니다.</li>
<li><code>functions.https.onRequest()</code>를 사용하여 HTTP 요청을 Firebase Functions에 연결합니다.</li>
</ul>
<h4 id="32-firebase-functions에-배포하기">3.2 Firebase Functions에 배포하기<a hidden class="anchor" aria-hidden="true" href="#32-firebase-functions에-배포하기">#</a></h4>
<p>배포하기 전에 NestJS 앱을 빌드합니다. Firebase Functions는 TypeScript를 사용하므로 빌드 후 <code>dist</code> 폴더에 빌드된 파일을 배포합니다.</p>
<ol>
<li><strong>NestJS 빌드</strong>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm run build
</span></span></code></pre></div><ol start="2">
<li><strong>Firebase Functions 배포</strong>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>firebase deploy --only functions
</span></span></code></pre></div><p>위 명령어를 실행하면 Firebase Functions에 NestJS 애플리케이션이 배포됩니다.</p>
<h3 id="4-배포-후-확인">4. 배포 후 확인<a hidden class="anchor" aria-hidden="true" href="#4-배포-후-확인">#</a></h3>
<p>배포가 완료되면 Firebase Functions에서 제공하는 URL을 통해 애플리케이션을 확인할 수 있습니다. Firebase Hosting을 통해 요청을 리버스 프록시로 전달하므로, Firebase Hosting에서 제공하는 URL을 통해 NestJS 애플리케이션에 접근할 수 있습니다.</p>
<h3 id="5-firebase-hosting과-함께-사용-선택-사항">5. Firebase Hosting과 함께 사용 (선택 사항)<a hidden class="anchor" aria-hidden="true" href="#5-firebase-hosting과-함께-사용-선택-사항">#</a></h3>
<p>Firebase Hosting을 사용하여 프론트엔드 애플리케이션을 배포하고, NestJS 백엔드 API를 연결할 수 있습니다. Firebase Hosting에서 API 요청을 Firebase Functions로 전달하도록 설정하는 방법은 앞서 설명한 것과 같습니다. <code>firebase.json</code> 파일에서 <code>rewrites</code> 옵션을 사용하여 <code>/api/**</code> 경로로 오는 요청을 Functions로 전달합니다.</p>
<h3 id="결론-3">결론<a hidden class="anchor" aria-hidden="true" href="#결론-3">#</a></h3>
<p><strong>NestJS를 Firebase Functions에 배포하는 방법</strong>은 기본적으로 NestJS 애플리케이션을 Express와 함께 사용하여 Firebase Functions에서 실행할 수 있도록 설정하는 방식입니다. 이 방식은 서버리스 환경에서 <strong>NestJS 애플리케이션을 배포</strong>하고 <strong>Firebase Hosting과 연동</strong>하여 프론트엔드와 백엔드를 함께 운영할 수 있게 합니다.</p>
<p>배포가 완료되면 Firebase Hosting을 통해 프론트엔드 애플리케이션에서 API 요청을 처리할 수 있으며, Firebase Functions를 사용하여 NestJS 애플리케이션을 서버리스 환경에서 실행할 수 있습니다.</p>
<h1 id="heading-3"><a hidden class="anchor" aria-hidden="true" href="#heading-3">#</a></h1>
<p>프론트엔드는 <strong>배포가 쉽고</strong> 관리가 간편하며, 백엔드는 <strong>서버 비용이 적게 드는</strong> 조합을 찾고 계시다면, 아래와 같은 스택들을 고려할 수 있습니다. 각 스택은 배포 및 운영이 간단하고, 서버 비용을 최소화할 수 있는 특성이 있습니다.</p>
<hr>
<h3 id="1-프론트엔드---nextjs"><strong>1. 프론트엔드 - Next.js</strong><a hidden class="anchor" aria-hidden="true" href="#1-프론트엔드---nextjs">#</a></h3>
<h4 id="nextjs-프론트엔드"><strong>Next.js (프론트엔드)</strong><a hidden class="anchor" aria-hidden="true" href="#nextjs-프론트엔드">#</a></h4>
<ul>
<li><strong>배포 용이성</strong>: Next.js는 Vercel과 자연스럽게 통합되어, 프론트엔드 배포가 매우 간단하고 자동화되어 있습니다. Vercel에서는 기본적으로 서버리스 방식으로 제공되며, 무료 요금제도 제공하고 있어 작은 프로젝트에서는 비용을 거의 발생시키지 않습니다.</li>
<li><strong>서버리스 기능</strong>: <code>getStaticProps</code>와 <code>getServerSideProps</code>를 활용하여 정적 사이트와 서버 사이드 렌더링을 동시에 처리할 수 있어 최적화가 가능합니다.</li>
<li><strong>자동 최적화</strong>: Next.js는 코드 분할, 이미지 최적화, 동적 라우팅 등을 자동으로 처리해 성능을 높여줍니다.</li>
</ul>
<h5 id="배포-방법"><strong>배포 방법</strong><a hidden class="anchor" aria-hidden="true" href="#배포-방법">#</a></h5>
<ul>
<li><strong>Vercel</strong>에 배포: Vercel은 Next.js에 최적화된 플랫폼입니다. GitHub와 연동하여 쉽게 배포할 수 있으며, 무료 플랜도 제공하여 소규모 프로젝트에 적합합니다.</li>
</ul>
<hr>
<h3 id="2-백엔드---서버-비용이-적게-드는-스택"><strong>2. 백엔드 - 서버 비용이 적게 드는 스택</strong><a hidden class="anchor" aria-hidden="true" href="#2-백엔드---서버-비용이-적게-드는-스택">#</a></h3>
<h4 id="1-fastapi--vercel-서버리스-방식"><strong>1) FastAPI + Vercel (서버리스 방식)</strong><a hidden class="anchor" aria-hidden="true" href="#1-fastapi--vercel-서버리스-방식">#</a></h4>
<ul>
<li>
<p><strong>FastAPI (백엔드)</strong>: FastAPI는 Python 기반의 웹 프레임워크로, 빠른 속도와 간결한 코드로 높은 성능을 자랑합니다. HTTP 요청을 비동기적으로 처리하며, RESTful API를 간단하게 작성할 수 있습니다. FastAPI는 <strong>Asynchronous</strong> 처리를 효율적으로 할 수 있어 서버 비용을 최소화할 수 있습니다.</p>
</li>
<li>
<p><strong>배포</strong>: FastAPI 애플리케이션을 <strong>Vercel</strong>의 서버리스 기능을 사용해 배포할 수 있습니다. 서버리스 방식은 사용량에 따라 비용이 부과되기 때문에, 트래픽이 적을 때는 비용이 거의 발생하지 않습니다. 또한 Vercel에서는 <strong>자동 확장</strong>을 제공하므로, 사용량이 늘어날 경우 자동으로 서버 자원을 조정합니다.</p>
</li>
</ul>
<h5 id="배포-방법-1"><strong>배포 방법</strong><a hidden class="anchor" aria-hidden="true" href="#배포-방법-1">#</a></h5>
<ol>
<li><strong>FastAPI 애플리케이션 코드 작성</strong></li>
<li><strong>Vercel에 FastAPI 배포</strong>: Vercel의 서버리스 Python 환경을 활용하여 FastAPI를 배포할 수 있습니다. 이때 <code>vercel.json</code> 파일을 설정하여 FastAPI를 서버리스로 배포할 수 있습니다.</li>
</ol>
<hr>
<h4 id="2-nestjs--firebase-functions-서버리스-방식"><strong>2) NestJS + Firebase Functions (서버리스 방식)</strong><a hidden class="anchor" aria-hidden="true" href="#2-nestjs--firebase-functions-서버리스-방식">#</a></h4>
<ul>
<li>
<p><strong>NestJS (백엔드)</strong>: NestJS는 TypeScript로 작성된 웹 애플리케이션 프레임워크로, 구조적이고 확장 가능한 아키텍처를 제공합니다. Express.js와 같은 기본 Node.js 프레임워크를 기반으로 하며, 모듈화된 설계가 특징입니다. <strong>서버리스 환경</strong>에서 NestJS를 실행할 수 있는 방법이 많습니다.</p>
</li>
<li>
<p><strong>Firebase Functions</strong>: Firebase는 Google Cloud 기반의 서버리스 플랫폼으로, 백엔드 로직을 <strong>Firebase Functions</strong>로 배포할 수 있습니다. 서버리스 방식이라 트래픽에 따라 비용이 부과되고, 대부분의 작은 프로젝트에서는 기본 요금제가 무료입니다. Firebase의 <strong>Functions</strong>는 HTTP 요청을 처리하는 데 적합하며, <strong>NestJS</strong>와 통합하여 API 서버를 구축할 수 있습니다.</p>
</li>
</ul>
<h5 id="배포-방법-2"><strong>배포 방법</strong><a hidden class="anchor" aria-hidden="true" href="#배포-방법-2">#</a></h5>
<ol>
<li><strong>NestJS 프로젝트 초기화 및 개발</strong></li>
<li><strong>Firebase Functions 설정</strong>: Firebase CLI를 사용하여 NestJS 앱을 Firebase Functions로 배포합니다.
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>firebase init functions
</span></span></code></pre></div>Firebase Functions 내에서 NestJS 서버를 실행하고, 서버리스 환경으로 배포합니다.</li>
</ol>
<hr>
<h4 id="3-expressjs--digitalocean-app-platform-서버리스--비용-절감"><strong>3) Express.js + DigitalOcean App Platform (서버리스 + 비용 절감)</strong><a hidden class="anchor" aria-hidden="true" href="#3-expressjs--digitalocean-app-platform-서버리스--비용-절감">#</a></h4>
<ul>
<li>
<p><strong>Express.js (백엔드)</strong>: Express.js는 간단하고 직관적인 Node.js 웹 프레임워크입니다. 많은 양의 트래픽을 처리하기 위해 비동기 방식으로 동작하며, 작은 API 서버로 매우 유용합니다.</p>
</li>
<li>
<p><strong>DigitalOcean App Platform</strong>: DigitalOcean의 App Platform은 <strong>서버리스</strong>와 <strong>컨테이너</strong> 기반 배포를 지원하는 플랫폼입니다. 트래픽에 따라 자동으로 스케일링을 할 수 있고, 비용 효율적인 옵션이 많아 소규모 프로젝트나 스타트업에 적합합니다. Express.js로 작성된 애플리케이션을 Docker 컨테이너로 실행하여, DigitalOcean의 <strong>App Platform</strong>에 배포할 수 있습니다.</p>
</li>
</ul>
<h5 id="배포-방법-3"><strong>배포 방법</strong><a hidden class="anchor" aria-hidden="true" href="#배포-방법-3">#</a></h5>
<ol>
<li><strong>Express.js 애플리케이션 작성</strong></li>
<li><strong>DigitalOcean App Platform에 배포</strong>: GitHub와 연동하여 Dockerfile을 작성하고, DigitalOcean App Platform에서 배포할 수 있습니다.</li>
</ol>
<hr>
<h3 id="3-종합-추천"><strong>3. 종합 추천</strong><a hidden class="anchor" aria-hidden="true" href="#3-종합-추천">#</a></h3>
<h4 id="프론트엔드-nextjs--백엔드-fastapi-vercel"><strong>프론트엔드: Next.js + 백엔드: FastAPI (Vercel)</strong><a hidden class="anchor" aria-hidden="true" href="#프론트엔드-nextjs--백엔드-fastapi-vercel">#</a></h4>
<ul>
<li><strong>추천 이유</strong>:
<ul>
<li><strong>Vercel</strong>을 사용하면 Next.js 애플리케이션의 배포가 매우 간단하고, FastAPI는 <strong>빠르고 경량화된 백엔드</strong>를 제공하므로, 서버 비용을 최소화할 수 있습니다. Vercel은 서버리스 방식으로, 트래픽에 따라 자원을 자동으로 확장하므로 소규모 프로젝트에서는 비용이 거의 발생하지 않습니다.</li>
<li>FastAPI는 비동기 처리와 경량화된 구조 덕분에 서버 비용이 낮고, API 요청을 효율적으로 처리할 수 있습니다.</li>
</ul>
</li>
</ul>
<h4 id="프론트엔드-nextjs--백엔드-firebase-functions-nestjs"><strong>프론트엔드: Next.js + 백엔드: Firebase Functions (NestJS)</strong><a hidden class="anchor" aria-hidden="true" href="#프론트엔드-nextjs--백엔드-firebase-functions-nestjs">#</a></h4>
<ul>
<li><strong>추천 이유</strong>:
<ul>
<li>Firebase의 <strong>서버리스</strong> 특성을 이용하면, 초기 비용 없이 <strong>트래픽에 따라 자동으로 확장</strong>되는 백엔드를 구축할 수 있습니다. Firebase Functions는 기본적으로 무료 요금제를 제공하며, 배포 및 관리가 간편합니다.</li>
<li><strong>NestJS</strong>는 모듈화된 구조를 제공하므로, 큰 프로젝트로 확장할 때도 관리가 용이하고, <strong>Firebase Functions</strong>에 적합하게 배포할 수 있습니다.</li>
</ul>
</li>
</ul>
<h4 id="프론트엔드-nextjs--백엔드-expressjs-digitalocean"><strong>프론트엔드: Next.js + 백엔드: Express.js (DigitalOcean)</strong><a hidden class="anchor" aria-hidden="true" href="#프론트엔드-nextjs--백엔드-expressjs-digitalocean">#</a></h4>
<ul>
<li><strong>추천 이유</strong>:
<ul>
<li><strong>DigitalOcean App Platform</strong>은 비용 효율적이며, 서버리스와 <strong>컨테이너화된 배포</strong>를 동시에 지원합니다. Express.js는 매우 간단한 API 서버로 사용하기 좋고, DigitalOcean에서는 자동 확장이 가능하므로 서버 비용을 최적화할 수 있습니다.</li>
</ul>
</li>
</ul>
<hr>
<h3 id="결론-4"><strong>결론</strong><a hidden class="anchor" aria-hidden="true" href="#결론-4">#</a></h3>
<ul>
<li><strong>Next.js</strong>는 프론트엔드 배포에서 가장 편리하고 무료 요금제도 제공하는 플랫폼인 <strong>Vercel</strong>과의 통합 덕분에 매우 유리합니다.</li>
<li><strong>FastAPI</strong>와 <strong>Firebase Functions</strong>는 서버리스 방식으로 서버 비용을 최소화할 수 있으며, FastAPI는 빠른 성능과 경량화된 특성 덕분에 적합합니다.</li>
<li><strong>NestJS</strong>와 <strong>Express.js</strong>는 서버리스 환경에 배포하기에 적합하며, Firebase Functions와 DigitalOcean App Platform을 통해 확장 가능하고 비용을 절감할 수 있습니다.</li>
</ul>
<p>이 조합들은 <strong>배포가 간단하고</strong> <strong>서버 비용이 적게 드는</strong> 장점을 제공합니다.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/next.js/">Next.js</a></li>
      <li><a href="http://localhost:1313/tags/springboot/">SpringBoot</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/developer/dart/">
    <span class="title">« Prev</span>
    <br>
    <span>Dart</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/developer/rust/rust-web/">
    <span class="title">Next »</span>
    <br>
    <span>Rust Web</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Nest.js on x"
            href="https://x.com/intent/tweet/?text=Nest.js&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fdeveloper%2fjavascipt%2fnestjs%2f&amp;hashtags=Next.js%2cSpringBoot">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Nest.js on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fdeveloper%2fjavascipt%2fnestjs%2f&amp;title=Nest.js&amp;summary=Nest.js&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fdeveloper%2fjavascipt%2fnestjs%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Nest.js on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fdeveloper%2fjavascipt%2fnestjs%2f&title=Nest.js">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Nest.js on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fdeveloper%2fjavascipt%2fnestjs%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Nest.js on whatsapp"
            href="https://api.whatsapp.com/send?text=Nest.js%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fdeveloper%2fjavascipt%2fnestjs%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Nest.js on telegram"
            href="https://telegram.me/share/url?text=Nest.js&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fdeveloper%2fjavascipt%2fnestjs%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Nest.js on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Nest.js&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fdeveloper%2fjavascipt%2fnestjs%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">RyanPark&#39;s DevSecOps</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
